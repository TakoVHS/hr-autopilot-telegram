# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é HR-–±–æ—Ç–∞ –≤ Telegram

## ü§ñ –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç

HR-–±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏:
- ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–Ω–¥–∏–¥–∞—Ç–µ (–∏–º—è, –æ–ø—ã—Ç, –≥–æ—Ä–æ–¥, –¥–æ–∫—É–º–µ–Ω—Ç—ã)
- ‚úÖ –û—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –≤ CRM
- ‚úÖ –ù–∞–∑–Ω–∞—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤—å—é
- ‚úÖ –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –Ω–µ—Ü–µ–ª–µ–≤—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
- ‚úÖ –≠—Å–∫–∞–ª–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏ –∂–∏–≤–æ–º—É HR

## üì± –ö–∞–∫ –Ω–∞—á–∞—Ç—å

### –î–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞:
1. –ù–∞–π–¥–∏ –±–æ—Ç–∞ –≤ Telegram: `@<–≤–∞—à_–±–æ—Ç_username>`
2. –ù–∞–∂–º–∏ `/start` –∏–ª–∏ –Ω–∞–ø–∏—à–∏ "–ü—Ä–∏–≤–µ—Ç"
3. –ë–æ—Ç –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å—ã –æ –≤–∞–∫–∞–Ω—Å–∏–∏, –æ–ø—ã—Ç–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
5. –ü–æ—Å–ª–µ –æ—Ü–µ–Ω–∫–∏ –±–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏–ª–∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é

### –î–ª—è HR/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ 24/7
- –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ CRM
- –≠—Å–∫–∞–ª–∞—Ü–∏–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –∞–¥–º–∏–Ω-—á–∞—Ç (TELEGRAM_ADMIN_CHAT_ID)

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º |
| `/help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ AI-–∞–≥–µ–Ω—Ç–∞, –ø–æ—ç—Ç–æ–º—É –ø–æ–Ω–∏–º–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫. –ö–æ–º–∞–Ω–¥—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–∏—Å–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã.

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
```
–ö–∞–Ω–¥–∏–¥–∞—Ç: –ü—Ä–∏–≤–µ—Ç, —Ö–æ—á—É —Ä–∞–±–æ—Ç–∞—Ç—å –∫—É—Ä—å–µ—Ä–æ–º
–ë–æ—Ç: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –†–∞–¥ –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É. –£—Ç–æ—á–Ω–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:
     1. –í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –∏—â–µ—Ç–µ —Ä–∞–±–æ—Ç—É?
     2. –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –∫—É—Ä—å–µ—Ä–æ–º?
     3. –ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?

–ö–∞–Ω–¥–∏–¥–∞—Ç: –ú–æ—Å–∫–≤–∞, —Ä–∞–±–æ—Ç–∞–ª –≥–æ–¥, –≥–æ—Ç–æ–≤ –Ω–∞ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å
–ë–æ—Ç: –û—Ç–ª–∏—á–Ω–æ! –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å:
     - –õ–∏—á–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∏–ª–∏ –º–æ—Ç–æ—Ü–∏–∫–ª?
     - –í–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ B?

–ö–∞–Ω–¥–∏–¥–∞—Ç: –î–∞, –µ—Å—Ç—å –º–∞—à–∏–Ω–∞ –∏ –ø—Ä–∞–≤–∞
–ë–æ—Ç: –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –í—ã –ø–æ–¥—Ö–æ–¥–∏—Ç–µ –ø–æ –Ω–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º. 
     –°–æ–∑–¥–∞–ª –≤–∞—à—É –∫–∞—Ä—Ç–æ—á–∫—É –≤ —Å–∏—Å—Ç–µ–º–µ. 
     –ü—Ä–µ–¥–ª–∞–≥–∞—é –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ. –ö–æ–≥–¥–∞ –≤–∞–º —É–¥–æ–±–Ω–æ?
```

### –û—Ç–∫–∞–∑ (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç):
```
–ö–∞–Ω–¥–∏–¥–∞—Ç: –ò—â—É —Ä–∞–±–æ—Ç—É –ø—Ä–æ–¥–∞–≤—Ü–æ–º, –Ω–æ –±–µ–∑ –æ–ø—ã—Ç–∞
–ë–æ—Ç: –ë–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å! –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞ 
     —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 6 –º–µ—Å—è—Ü–µ–≤ –æ–ø—ã—Ç–∞ —Ä–æ–∑–Ω–∏—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏.
     –†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞–±—Ä–∞—Ç—å—Å—è –æ–ø—ã—Ç–∞ –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞–º –ø–æ–∑–∂–µ.
     –ñ–µ–ª–∞—é —É–¥–∞—á–∏ –≤ –ø–æ–∏—Å–∫–∞—Ö!
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —è–∑—ã–∫–∞

–ë–æ—Ç **–≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–∏—à–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏–ª–∏ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ.

–≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–º–ø—Ç–µ –∞–≥–µ–Ω—Ç–∞: `docs/prompts/hr_agent_system.md`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–∏—Å–∞
curl -sk https://hr-autopilot-backend-yx67.onrender.com/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook Telegram
curl -s "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"
```

### –õ–æ–≥–∏:
- Render Dashboard ‚Üí hr-autopilot-backend-yx67 ‚Üí **Logs**
- –ò—â–∏ –∑–∞–ø–∏—Å–∏ —Å –ø–æ–ª—è–º–∏: `update_id`, `chat_id`, `outcome`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤:
```json
{
  "event": "telegram_webhook",
  "request_id": "...",
  "update_id": 123456,
  "chat_id": 987654,
  "thread_id": "thread_abc123",
  "duration_ms": 5432,
  "outcome": "ok"
}
```

–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `outcome`:
- `ok` ‚Äî —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
- `duplicate` ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π update_id (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- `no_message` ‚Äî –∞–ø–¥–µ–π—Ç –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
- `too_long` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç (4000 —Å–∏–º–≤–æ–ª–æ–≤)
- `timeout` ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω —Ç–∞–π–º–∞—É—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (25 —Å–µ–∫)
- `openai_error` ‚Äî –æ—à–∏–±–∫–∞ OpenAI API
- `error` ‚Äî –æ–±—â–∞—è –æ—à–∏–±–∫–∞

## ‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç –∞–≥–µ–Ω—Ç–∞:
1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `docs/prompts/hr_agent_system.md`
2. –û–±–Ω–æ–≤–∏ –ø—Ä–æ–º–ø—Ç –≤ OpenAI Platform ‚Üí Assistants ‚Üí –≤—ã–±–µ—Ä–∏ –∞–≥–µ–Ω—Ç–∞ ‚Üí Instructions
3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞)

### –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- Render Dashboard ‚Üí Environment ‚Üí –æ–±–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

### –ü–æ—Å—Ç–∞–≤–∏—Ç—å webhook –∑–∞–Ω–æ–≤–æ:
```bash
curl -s -H "x-internal-token: <INTERNAL_API_TOKEN>" \
  -X POST "https://hr-autopilot-backend-yx67.onrender.com/telegram/set-webhook"
```

## üêõ Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å `/health` ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `"ok":true`
2. –ü—Ä–æ–≤–µ—Ä—å `getWebhookInfo` ‚Äî url –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ Render, –±–µ–∑ `last_error_message`
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ ‚Äî –∏—â–∏ `outcome=error` –∏–ª–∏ `outcome=openai_error`

### –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º:
1. –ü—Ä–æ–≤–µ—Ä—å `docs/prompts/hr_agent_system.md` ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–í—Å–µ–≥–¥–∞ –æ–±—â–∞–π—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º"
2. –û–±–Ω–æ–≤–∏ –ø—Ä–æ–º–ø—Ç –≤ OpenAI Platform Assistants
3. –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è), –Ω–æ –¥–∞–ª—å—à–µ ‚Äî —Ä—É—Å—Å–∫–∏–π

### –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
- –ù–æ—Ä–º–∞–ª—å–Ω–æ! Telegram –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–ª–∞—Ç—å –æ–¥–∏–Ω update –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ë–æ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç –¥—É–±–ª–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `processed_updates`

### –¢–∞–π–º–∞—É—Ç—ã:
- Render Free –∑–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 60 —Å–µ–∫ (–ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ + OpenAI)
- –î–∞–ª—å–Ω–µ–π—à–∏–µ –æ—Ç–≤–µ—Ç—ã ‚Äî –±—ã—Å—Ç—Ä–µ–µ

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–¢–µ—Å—Ç–∏—Ä—É–π —Ä–µ–≥—É–ª—è—Ä–Ω–æ:** –æ—Ç–ø—Ä–∞–≤–ª—è–π `/start` —Ä–∞–∑ –≤ –¥–µ–Ω—å, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
2. **–°–ª–µ–¥–∏ –∑–∞ –ª–æ–≥–∞–º–∏:** –æ—Å–æ–±–µ–Ω–Ω–æ `outcome=error` –∏ `outcome=openai_error`
3. **–û–±–Ω–æ–≤–ª—è–π –ø—Ä–æ–º–ø—Ç:** –ø–æ –º–µ—Ä–µ —Å–±–æ—Ä–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
4. **–ò—Å–ø–æ–ª—å–∑—É–π —ç—Å–∫–∞–ª–∞—Ü–∏–∏:** –∞–≥–µ–Ω—Ç —Å–∞–º –ø–∏–Ω–≥—É–µ—Ç –∞–¥–º–∏–Ω-—á–∞—Ç –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö
5. **Free Tier –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äî –∞–ø–≥—Ä–µ–π–¥—å –Ω–∞ Render Starter ($7/–º–µ—Å)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –õ–æ–≥–∏ –¥–µ–ø–ª–æ—è: Render Dashboard ‚Üí Logs
- –û—à–∏–±–∫–∏ webhook: `curl getWebhookInfo`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram Bot API: https://core.telegram.org/bots/api
- OpenAI Assistants: https://platform.openai.com/docs/assistants
